# ============================================
# MarqetFi API - Environment Configuration
# ============================================
# Copy this file to .env and update with your values
# cp .env.example .env
#
# Note: All configurations can be managed through the admin API
# Database configurations take precedence over .env file
# ============================================

# ============================================
# Application Settings
# ============================================
APP_NAME=MarqetFi API
VERSION=1.0.0
DEBUG=false
ENVIRONMENT=development

# Server Configuration
HOST=0.0.0.0
PORT=8000

# ============================================
# Database Configuration
# ============================================
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/marqetfi
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# ============================================
# Redis Configuration
# ============================================
REDIS_URL=redis://localhost:6379/0
REDIS_POOL_SIZE=10

# ============================================
# Celery Configuration
# ============================================
CELERY_BROKER_URL=amqp://guest:guest@localhost:5672//
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# ============================================
# Security Configuration
# ============================================
SECRET_KEY=change-this-secret-key-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# Auth0 Configuration
# ============================================
AUTH0_DOMAIN=your-domain.auth0.com
AUTH0_CLIENT_ID=your-client-id
AUTH0_CLIENT_SECRET=your-client-secret
AUTH0_AUDIENCE=your-api-audience
AUTH0_ALGORITHM=RS256
AUTH0_MANAGEMENT_CLIENT_ID=your-management-client-id
AUTH0_MANAGEMENT_CLIENT_SECRET=your-management-client-secret
AUTH0_GOOGLE_ENABLED=true
AUTH0_APPLE_ENABLED=true
AUTH0_OAUTH_REDIRECT_URI=http://localhost:8000/api/v1/auth/oauth/callback

# ============================================
# Wallet Provider Configuration
# ============================================
WALLET_PROVIDER=none
ENABLE_MPC_WALLETS=true
ENABLE_EXTERNAL_WALLETS=true

# Privy Configuration
PRIVY_ENABLED=true
PRIVY_APP_ID=your-privy-app-id
PRIVY_APP_SECRET=your-privy-app-secret
PRIVY_API_URL=https://api.privy.io
PRIVY_USE_EMBEDDED_WALLETS=true
PRIVY_TIMEOUT=30
PRIVY_RETRY_ATTEMPTS=3
PRIVY_RETRY_DELAY=1.0

# Dynamic Configuration
DYNAMIC_ENABLED=true
DYNAMIC_API_KEY=your-dynamic-api-key
DYNAMIC_API_SECRET=your-dynamic-api-secret
DYNAMIC_API_URL=https://api.dynamic.xyz
DYNAMIC_ENVIRONMENT=production
DYNAMIC_TIMEOUT=30
DYNAMIC_RETRY_ATTEMPTS=3
DYNAMIC_RETRY_DELAY=1.0

# ============================================
# Ostium Provider Configuration
# ============================================
ostium_enabled=true
ostium_private_key=0x...
ostium_rpc_url=https://arbitrum-sepolia.infura.io/v3/your-infura-key
ostium_network=testnet
ostium_verbose=false
ostium_slippage_percentage=1.0
ostium_timeout=30
ostium_retry_attempts=3
ostium_retry_delay=1.0
ostium_required_token=USDC
ostium_required_chain=arbitrum
ostium_required_token_address=0x...

# Ostium Wallet Provider Settings
OSTIUM_USE_WALLET_PROVIDER=false
OSTIUM_FALLBACK_TO_PRIVATE_KEY=true
OSTIUM_WALLET_PROVIDER_ID=

# Legacy Ostium Settings (backward compatible)
private_key=0x...
rpc_url=https://arbitrum-sepolia.infura.io/v3/your-infura-key
network=testnet
ostium_verbose=false

# ============================================
# Lighter Provider Configuration
# ============================================
lighter_enabled=true
lighter_api_url=https://api.lighter.xyz
lighter_api_key=your-lighter-api-key
lighter_private_key=0x...
lighter_network=mainnet
lighter_timeout=30
lighter_retry_attempts=3
lighter_retry_delay=1.0
lighter_required_token=USDC
lighter_required_chain=ethereum
lighter_required_token_address=0x...

# ============================================
# Swap Provider Configuration
# ============================================
SWAP_PROVIDER=lifi
LIFI_API_URL=https://li.xyz/v1
LIFI_API_KEY=your-lifi-api-key
lifi_enabled=true
lifi_timeout=30
lifi_retry_attempts=3
lifi_retry_delay=1.0

# Symbiosis Configuration (future)
SYMBIOSIS_API_URL=https://api.symbiosis.finance

# ============================================
# Provider Selection
# ============================================
TRADING_PROVIDER=ostium
PRICE_PROVIDER=ostium
SETTLEMENT_PROVIDER=ostium

# ============================================
# Multi-Provider Routing
# ============================================
# Format: JSON string mapping assets to providers
# Example: {"BTC":"lighter","ETH":"lighter","EURUSD":"ostium","XAUUSD":"ostium"}
ASSET_ROUTING={}

# ============================================
# CORS Configuration
# ============================================
CORS_ORIGINS=["*"]
CORS_CREDENTIALS=true
CORS_METHODS=["*"]
CORS_HEADERS=["*"]

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================
# API Configuration
# ============================================
API_V1_PREFIX=/api/v1
DOCS_URL=/docs
REDOC_URL=/redoc
